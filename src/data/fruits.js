// src/data/fruits.js - Updated Devil Fruits Database (128 New Fruits)

const DEVIL_FRUITS = {
  // =====================================================
  // COMMON FRUITS (25 fruits) - 1.0x to 1.2x CP
  // =====================================================
  "Mushi Mushi no Mi, Model: Suzumebachi": {
    id: "mushi_mushi_suzumebachi",
    name: "Mushi Mushi no Mi, Model: Suzumebachi",
    type: "Zoan",
    rarity: "common",
    user: "Unknown",
    power: "Transforms the user into a hornet",
    description: "User can transform into a hornet or hornet-human hybrid with stinging attacks."
  },
  "Sara Sara no Mi, Model: Axolotl": {
    id: "sara_sara_axolotl",
    name: "Sara Sara no Mi, Model: Axolotl",
    type: "Zoan",
    rarity: "common",
    user: "Smiley",
    power: "Transforms the user into an axolotl",
    description: "User can transform into an axolotl with regeneration abilities."
  },
  "Batto Batto no Mi, Model: Vampire": {
    id: "batto_batto_vampire",
    name: "Batto Batto no Mi, Model: Vampire",
    type: "Zoan",
    rarity: "common",
    user: "Patrick Redfield",
    power: "Transforms the user into a vampire bat",
    description: "User can transform into a vampire bat or vampire bat-human hybrid."
  },
  "Tama Tama no Mi": {
    id: "tama_tama_no_mi",
    name: "Tama Tama no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Tamago",
    power: "Egg transformation abilities",
    description: "User can transform and evolve through different stages like an egg."
  },
  "Mogu Mogu no Mi": {
    id: "mogu_mogu_no_mi",
    name: "Mogu Mogu no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Miss Merry Christmas",
    power: "Transforms the user into a mole",
    description: "User can transform into a mole or mole-human hybrid."
  },
  "Inu Inu no Mi, Model: Tanuki": {
    id: "inu_inu_tanuki",
    name: "Inu Inu no Mi, Model: Tanuki",
    type: "Zoan",
    rarity: "common",
    user: "Bunbuku",
    power: "Transforms the user into a tanuki",
    description: "User can transform into a tanuki or tanuki-human hybrid."
  },
  "Inu Inu no Mi, Model: Dachshund": {
    id: "inu_inu_dachshund",
    name: "Inu Inu no Mi, Model: Dachshund",
    type: "Zoan",
    rarity: "common",
    user: "Lassoo",
    power: "Transforms the user into a dachshund",
    description: "User can transform into a dachshund or dachshund-human hybrid."
  },
  "Neko Neko no Mi, Model: Saber Tiger": {
    id: "neko_neko_saber_tiger",
    name: "Neko Neko no Mi, Model: Saber Tiger",
    type: "Zoan",
    rarity: "common",
    user: "Who's-Who",
    power: "Transforms the user into a saber-toothed tiger",
    description: "User can transform into a saber-toothed tiger or saber tiger-human hybrid."
  },
  "Inu Inu no Mi, Model: Jackal": {
    id: "inu_inu_jackal",
    name: "Inu Inu no Mi, Model: Jackal",
    type: "Zoan",
    rarity: "common",
    user: "Chaka",
    power: "Transforms the user into a jackal",
    description: "User can transform into a jackal or jackal-human hybrid."
  },
  "Uma Uma no Mi": {
    id: "uma_uma_no_mi",
    name: "Uma Uma no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Pierre",
    power: "Transforms the user into a horse",
    description: "User can transform into a horse or horse-human hybrid."
  },
  "Ushi Ushi no Mi, Model: Giraffe": {
    id: "ushi_ushi_giraffe",
    name: "Ushi Ushi no Mi, Model: Giraffe",
    type: "Zoan",
    rarity: "common",
    user: "Kaku",
    power: "Transforms the user into a giraffe",
    description: "User can transform into a giraffe or giraffe-human hybrid."
  },
  "Neko Neko no Mi, Model: Leopard": {
    id: "neko_neko_leopard",
    name: "Neko Neko no Mi, Model: Leopard",
    type: "Zoan",
    rarity: "common",
    user: "Rob Lucci",
    power: "Transforms the user into a leopard",
    description: "User can transform into a leopard or leopard-human hybrid."
  },
  "Inu Inu no Mi, Model: Wolf": {
    id: "inu_inu_wolf",
    name: "Inu Inu no Mi, Model: Wolf",
    type: "Zoan",
    rarity: "common",
    user: "Jabra",
    power: "Transforms the user into a wolf",
    description: "User can transform into a wolf or wolf-human hybrid."
  },
  "Zou Zou no Mi": {
    id: "zou_zou_no_mi",
    name: "Zou Zou no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Funkfreed",
    power: "Transforms the user into an elephant",
    description: "User can transform into an elephant or elephant-human hybrid."
  },
  "Tori Tori no Mi, Model: Falcon": {
    id: "tori_tori_falcon",
    name: "Tori Tori no Mi, Model: Falcon",
    type: "Zoan",
    rarity: "common",
    user: "Pell",
    power: "Transforms the user into a falcon",
    description: "User can transform into a falcon or falcon-human hybrid."
  },
  "Hito Hito no Mi": {
    id: "hito_hito_no_mi",
    name: "Hito Hito no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Tony Tony Chopper",
    power: "Transforms the user into a human",
    description: "Grants human intelligence and the ability to transform into human form."
  },
  "Ushi Ushi no Mi, Model: Bison": {
    id: "ushi_ushi_bison",
    name: "Ushi Ushi no Mi, Model: Bison",
    type: "Zoan",
    rarity: "common",
    user: "Dalton",
    power: "Transforms the user into a bison",
    description: "User can transform into a bison or bison-human hybrid."
  },
  "Mushi Mushi no Mi, Model: Kabuto": {
    id: "mushi_mushi_kabuto",
    name: "Mushi Mushi no Mi, Model: Kabuto",
    type: "Zoan",
    rarity: "common",
    user: "Unknown",
    power: "Transforms the user into a rhinoceros beetle",
    description: "User can transform into a rhinoceros beetle with incredible strength."
  },
  "Kame Kame no Mi": {
    id: "kame_kame_no_mi",
    name: "Kame Kame no Mi",
    type: "Zoan",
    rarity: "common",
    user: "Unknown",
    power: "Transforms the user into a turtle",
    description: "User can transform into a turtle with enhanced defense."
  },
  "Tori Tori no Mi, Model: Eagle": {
    id: "tori_tori_eagle",
    name: "Tori Tori no Mi, Model: Eagle",
    type: "Zoan",
    rarity: "common",
    user: "Buzz",
    power: "Transforms the user into an eagle",
    description: "User can transform into an eagle or eagle-human hybrid."
  },
  "Susu Susu no Mi": {
    id: "susu_susu_no_mi",
    name: "Susu Susu no Mi",
    type: "Paramecia",
    rarity: "common",
    user: "Unknown",
    power: "Allows the user to produce and control soot",
    description: "User can create and manipulate soot for concealment and attacks."
  },
  "Shibo Shibo no Mi": {
    id: "shibo_shibo_no_mi",
    name: "Shibo Shibo no Mi",
    type: "Paramecia",
    rarity: "common",
    user: "Charlotte Smoothie",
    power: "Allows the user to wring out liquid from anything",
    description: "User can extract moisture and other liquids from objects and people."
  },
  "Nagi Nagi no Mi": {
    id: "nagi_nagi_no_mi",
    name: "Nagi Nagi no Mi",
    type: "Paramecia",
    rarity: "common",
    user: "Donquixote Rosinante",
    power: "Allows the user to create areas of silence",
    description: "User can nullify all sound within a certain area."
  },
  "Chiyu Chiyu no Mi": {
    id: "chiyu_chiyu_no_mi",
    name: "Chiyu Chiyu no Mi",
    type: "Paramecia",
    rarity: "common",
    user: "Princess Mansherry",
    power: "Allows the user to heal injuries",
    description: "User can heal wounds and restore health to living beings."
  },
  "Memo Memo no Mi": {
    id: "memo_memo_no_mi",
    name: "Memo Memo no Mi",
    type: "Paramecia",
    rarity: "common",
    user: "Charlotte Pudding",
    power: "Allows the user to manipulate memories",
    description: "User can extract, edit, and manipulate memories like film strips."
  },

  // =====================================================
  // UNCOMMON FRUITS (25 fruits) - 1.2x to 1.4x CP
  // =====================================================
  "Sube Sube no Mi": {
    id: "sube_sube_no_mi",
    name: "Sube Sube no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Alvida",
    power: "Makes the user's skin slippery",
    description: "Everything slides off the user's smooth skin, including physical attacks."
  },
  "Supa Supa no Mi": {
    id: "supa_supa_no_mi",
    name: "Supa Supa no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Daz Bonez",
    power: "Turns the user's body into blades",
    description: "User can turn any part of their body into steel blades."
  },
  "Toge Toge no Mi": {
    id: "toge_toge_no_mi",
    name: "Toge Toge no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Miss Doublefinger",
    power: "Allows the user to grow spikes from their body",
    description: "User can grow spikes from any part of their body for offense and defense."
  },
  "Ori Ori no Mi": {
    id: "ori_ori_no_mi",
    name: "Ori Ori no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Hina",
    power: "Allows the user to bind opponents with iron",
    description: "User can create iron shackles and cages to restrain enemies."
  },
  "Bane Bane no Mi": {
    id: "bane_bane_no_mi",
    name: "Bane Bane no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Bellamy",
    power: "Turns the user's legs into springs",
    description: "User's legs become springs, allowing for powerful jumping and bouncing attacks."
  },
  "Noro Noro no Mi": {
    id: "noro_noro_no_mi",
    name: "Noro Noro no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Foxy",
    power: "Allows the user to slow down anything",
    description: "User can emit photons that slow down anything they hit for 30 seconds."
  },
  "Doa Doa no Mi": {
    id: "doa_doa_no_mi",
    name: "Doa Doa no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Blueno",
    power: "Allows the user to create doors anywhere",
    description: "User can create doors on any surface, including the air itself."
  },
  "Awa Awa no Mi": {
    id: "awa_awa_no_mi",
    name: "Awa Awa no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Kalifa",
    power: "Allows the user to create and control bubbles",
    description: "User can generate soap bubbles that weaken enemies."
  },
  "Beta Beta no Mi": {
    id: "beta_beta_no_mi",
    name: "Beta Beta no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Trebol",
    power: "Allows the user to create and control sticky liquid",
    description: "User can create and control sticky substances like mucus."
  },
  "Bari Bari no Mi": {
    id: "bari_bari_no_mi",
    name: "Bari Bari no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Bartolomeo",
    power: "Allows the user to create barriers",
    description: "User can create invisible barriers that are virtually indestructible."
  },
  "Nui Nui no Mi": {
    id: "nui_nui_no_mi",
    name: "Nui Nui no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Leo",
    power: "Allows the user to stitch things together",
    description: "User can stitch anything together, including people to surfaces."
  },
  "Buku Buku no Mi": {
    id: "buku_buku_no_mi",
    name: "Buku Buku no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Charlotte Mont-d'Or",
    power: "Allows the user to manipulate books",
    description: "User can trap people and objects inside books and manipulate book worlds."
  },
  "Pero Pero no Mi": {
    id: "pero_pero_no_mi",
    name: "Pero Pero no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Charlotte Perospero",
    power: "Allows the user to create and control candy",
    description: "User can create and manipulate candy, including hardened candy structures."
  },
  "Bisu Bisu no Mi": {
    id: "bisu_bisu_no_mi",
    name: "Bisu Bisu no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Charlotte Cracker",
    power: "Allows the user to create and control biscuits",
    description: "User can create infinite hardened biscuit soldiers and structures."
  },
  "Kuri Kuri no Mi": {
    id: "kuri_kuri_no_mi",
    name: "Kuri Kuri no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Charlotte Katakuri",
    power: "Allows the user to create and control cream",
    description: "User can produce and manipulate cream for various purposes."
  },
  "Mira Mira no Mi": {
    id: "mira_mira_no_mi",
    name: "Mira Mira no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Charlotte Brulee",
    power: "Allows the user to create and travel through mirrors",
    description: "User can create mirrors and travel through the Mirror World."
  },
  "Maki Maki no Mi": {
    id: "maki_maki_no_mi",
    name: "Maki Maki no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Raizo",
    power: "Allows the user to create and manipulate scrolls",
    description: "User can store and release things from scrolls."
  },
  "Oshi Oshi no Mi": {
    id: "oshi_oshi_no_mi",
    name: "Oshi Oshi no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Morley",
    power: "Allows the user to push and reshape earth",
    description: "User can push and mold the ground like clay."
  },
  "Fuku Fuku no Mi": {
    id: "fuku_fuku_no_mi",
    name: "Fuku Fuku no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Kin'emon",
    power: "Allows the user to create clothing",
    description: "User can create clothing and disguises from leaves and other materials."
  },
  "Juku Juku no Mi": {
    id: "juku_juku_no_mi",
    name: "Juku Juku no Mi",
    type: "Paramecia",
    rarity: "uncommon",
    user: "Shinobu",
    power: "Allows the user to make things mature",
    description: "User can accelerate the aging and maturation of anything they touch."
  },
  "Ryu Ryu no Mi, Model: Spinosaurus": {
    id: "ryu_ryu_spinosaurus",
    name: "Ryu Ryu no Mi, Model: Spinosaurus",
    type: "Ancient Zoan",
    rarity: "uncommon",
    user: "X Drake",
    power: "Transforms the user into a Spinosaurus",
    description: "User can transform into a Spinosaurus or Spinosaurus-human hybrid."
  },
  "Ryu Ryu no Mi, Model: Pteranodon": {
    id: "ryu_ryu_pteranodon",
    name: "Ryu Ryu no Mi, Model: Pteranodon",
    type: "Ancient Zoan",
    rarity: "uncommon",
    user: "King",
    power: "Transforms the user into a Pteranodon",
    description: "User can transform into a Pteranodon or Pteranodon-human hybrid."
  },
  "Ryu Ryu no Mi, Model: Brachiosaurus": {
    id: "ryu_ryu_brachiosaurus",
    name: "Ryu Ryu no Mi, Model: Brachiosaurus",
    type: "Ancient Zoan",
    rarity: "uncommon",
    user: "Queen",
    power: "Transforms the user into a Brachiosaurus",
    description: "User can transform into a Brachiosaurus or Brachiosaurus-human hybrid."
  },
  "Ryu Ryu no Mi, Model: Allosaurus": {
    id: "ryu_ryu_allosaurus",
    name: "Ryu Ryu no Mi, Model: Allosaurus",
    type: "Ancient Zoan",
    rarity: "uncommon",
    user: "X Drake",
    power: "Transforms the user into an Allosaurus",
    description: "User can transform into an Allosaurus or Allosaurus-human hybrid."
  },
  "Ryu Ryu no Mi, Model: Triceratops": {
    id: "ryu_ryu_triceratops",
    name: "Ryu Ryu no Mi, Model: Triceratops",
    type: "Ancient Zoan",
    rarity: "uncommon",
    user: "Sasaki",
    power: "Transforms the user into a Triceratops",
    description: "User can transform into a Triceratops or Triceratops-human hybrid."
  },

  // =====================================================
  // RARE FRUITS (25 fruits) - 1.4x to 1.7x CP
  // =====================================================
  "Bara Bara no Mi": {
    id: "bara_bara_no_mi",
    name: "Bara Bara no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Buggy",
    power: "Allows the user to split their body into pieces",
    description: "User can separate their body parts and control them independently, immune to slashing attacks."
  },
  "Bomu Bomu no Mi": {
    id: "bomu_bomu_no_mi",
    name: "Bomu Bomu no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Mr. 5",
    power: "Makes the user a bomb human",
    description: "User can make any part of their body explode, including their breath and bodily secretions."
  },
  "Kilo Kilo no Mi": {
    id: "kilo_kilo_no_mi",
    name: "Kilo Kilo no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Miss Valentine",
    power: "Allows the user to change their weight",
    description: "User can alter their weight from 1 kg to 10,000 kg at will."
  },
  "Doru Doru no Mi": {
    id: "doru_doru_no_mi",
    name: "Doru Doru no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Mr. 3",
    power: "Allows the user to create and control wax",
    description: "User can produce candle wax from their body that hardens to steel-like strength."
  },
  "Baku Baku no Mi": {
    id: "baku_baku_no_mi",
    name: "Baku Baku no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Wapol",
    power: "Allows the user to eat anything",
    description: "User can consume anything and either transform into it or combine eaten objects."
  },
  "Mane Mane no Mi": {
    id: "mane_mane_no_mi",
    name: "Mane Mane no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Bon Clay",
    power: "Allows the user to copy appearances",
    description: "User can transform into anyone they've touched with their right hand."
  },
  "Shari Shari no Mi": {
    id: "shari_shari_no_mi",
    name: "Shari Shari no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Sharinguru",
    power: "Turns the user's limbs into wheels",
    description: "User can transform their limbs into spinning wheels for movement and attacks."
  },
  "Beri Beri no Mi": {
    id: "beri_beri_no_mi",
    name: "Beri Beri no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Very Good",
    power: "Allows the user to turn into berries",
    description: "User can split their body into small berry-like orbs."
  },
  "Sabi Sabi no Mi": {
    id: "sabi_sabi_no_mi",
    name: "Sabi Sabi no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Shu",
    power: "Allows the user to rust metal",
    description: "User can rust and corrode any metal they touch."
  },
  "Shabon Shabon no Mi": {
    id: "shabon_shabon_no_mi",
    name: "Shabon Shabon no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Kalifa",
    power: "Allows the user to create soap bubbles",
    description: "User can create soap bubbles that clean away enemy strength."
  },
  "Suke Suke no Mi": {
    id: "suke_suke_no_mi",
    name: "Suke Suke no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Absalom",
    power: "Grants the user invisibility",
    description: "User can become invisible and make anything they touch invisible as well."
  },
  "Kama Kama no Mi": {
    id: "kama_kama_no_mi",
    name: "Kama Kama no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Eric",
    power: "Allows the user to create wind slashes",
    description: "User can create cutting wind attacks with their fingernails."
  },
  "Horo Horo no Mi": {
    id: "horo_horo_no_mi",
    name: "Horo Horo no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Perona",
    power: "Allows the user to create and control ghosts",
    description: "User can create ghosts that drain enemies' willpower and make them extremely negative."
  },
  "Yomi Yomi no Mi": {
    id: "yomi_yomi_no_mi",
    name: "Yomi Yomi no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Brook",
    power: "Grants the user a second life",
    description: "User's soul returns to their body after death, and they can use soul-based abilities."
  },
  "Kage Kage no Mi": {
    id: "kage_kage_no_mi",
    name: "Kage Kage no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Gecko Moria",
    power: "Allows the user to control shadows",
    description: "User can manipulate shadows, steal them, and create shadow zombies."
  },
  "Horu Horu no Mi": {
    id: "horu_horu_no_mi",
    name: "Horu Horu no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Emporio Ivankov",
    power: "Allows the user to control hormones",
    description: "User can inject hormones to heal, enhance abilities, or change gender."
  },
  "Choki Choki no Mi": {
    id: "choki_choki_no_mi",
    name: "Choki Choki no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Inazuma",
    power: "Allows the user to cut through anything like paper",
    description: "User can turn their hands into scissors and cut through any material."
  },
  "Fuwa Fuwa no Mi": {
    id: "fuwa_fuwa_no_mi",
    name: "Fuwa Fuwa no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Shiki",
    power: "Allows the user to make things float",
    description: "User can levitate themselves and non-living objects."
  },
  "Mero Mero no Mi": {
    id: "mero_mero_no_mi",
    name: "Mero Mero no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Boa Hancock",
    power: "Allows the user to turn people to stone with love",
    description: "User can petrify anyone who feels attraction or lust toward them."
  },
  "Doku Doku no Mi": {
    id: "doku_doku_no_mi",
    name: "Doku Doku no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Magellan",
    power: "Allows the user to create and control poison",
    description: "User can create various types of poison and is immune to all toxins."
  },
  "Hobi Hobi no Mi": {
    id: "hobi_hobi_no_mi",
    name: "Hobi Hobi no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Sugar",
    power: "Allows the user to turn people into toys",
    description: "User can turn people into toys and erase memories of their existence."
  },
  "Hoya Hoya no Mi": {
    id: "hoya_hoya_no_mi",
    name: "Hoya Hoya no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Charlotte Daifuku",
    power: "Allows the user to summon a genie",
    description: "User can summon a powerful genie from their body by rubbing it."
  },
  "Netsu Netsu no Mi": {
    id: "netsu_netsu_no_mi",
    name: "Netsu Netsu no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Charlotte Oven",
    power: "Allows the user to produce heat",
    description: "User can generate extreme heat from their body."
  },
  "Zushi Zushi no Mi": {
    id: "zushi_zushi_no_mi",
    name: "Zushi Zushi no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Fujitora",
    power: "Allows the user to control gravity",
    description: "User can manipulate gravitational forces and summon meteorites."
  },
  "Iba Iba no Mi": {
    id: "iba_iba_no_mi",
    name: "Iba Iba no Mi",
    type: "Paramecia",
    rarity: "rare",
    user: "Unknown",
    power: "Allows the user to create and control thorns",
    description: "User can grow and manipulate thorny vines and barriers."
  },

  // =====================================================
  // EPIC FRUITS (25 fruits) - 1.7x to 2.1x CP
  // =====================================================
  "Hana Hana no Mi": {
    id: "hana_hana_no_mi",
    name: "Hana Hana no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Nico Robin",
    power: "Allows the user to sprout body parts anywhere",
    description: "User can sprout copies of their body parts from any surface."
  },
  "Yomi Yomi no Mi": {
    id: "yomi_yomi_no_mi_epic",
    name: "Yomi Yomi no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Brook",
    power: "Grants the user a second life",
    description: "User's soul returns to their body after death, and they can use soul-based abilities."
  },
  "Doa Doa no Mi": {
    id: "doa_doa_no_mi_epic",
    name: "Doa Doa no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Blueno",
    power: "Allows the user to create doors anywhere",
    description: "User can create doors on any surface, including the air itself."
  },
  "Kira Kira no Mi": {
    id: "kira_kira_no_mi",
    name: "Kira Kira no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Jozu",
    power: "Allows the user to turn into diamond",
    description: "User can transform their body into diamond, the hardest substance."
  },
  "Goe Goe no Mi": {
    id: "goe_goe_no_mi",
    name: "Goe Goe no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "El Drago",
    power: "Allows the user to create powerful sound waves",
    description: "User can produce destructive sound waves from their voice."
  },
  "Kachi Kachi no Mi": {
    id: "kachi_kachi_no_mi",
    name: "Kachi Kachi no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Bear King",
    power: "Makes the user's body extremely hard and hot",
    description: "User's body becomes incredibly hard and generates intense heat."
  },
  "Nemu Nemu no Mi": {
    id: "nemu_nemu_no_mi",
    name: "Nemu Nemu no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Noko",
    power: "Allows the user to induce sleep",
    description: "User can release spores that cause drowsiness and sleep."
  },
  "Mini Mini no Mi": {
    id: "mini_mini_no_mi",
    name: "Mini Mini no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Blyue",
    power: "Allows the user to shrink",
    description: "User can shrink their body to become very small."
  },
  "Atsu Atsu no Mi": {
    id: "atsu_atsu_no_mi",
    name: "Atsu Atsu no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Don Accino",
    power: "Allows the user to produce extreme heat",
    description: "User can generate temperatures up to 10,000 degrees."
  },
  "Hiso Hiso no Mi": {
    id: "hiso_hiso_no_mi",
    name: "Hiso Hiso no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Apis",
    power: "Allows the user to communicate with animals",
    description: "User can hear the voices of animals and communicate with them."
  },
  "Noko Noko no Mi": {
    id: "noko_noko_no_mi",
    name: "Noko Noko no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Unknown",
    power: "Allows the user to produce spores",
    description: "User can release various types of spores with different effects."
  },
  "Ami Ami no Mi": {
    id: "ami_ami_no_mi",
    name: "Ami Ami no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Largo",
    power: "Allows the user to create and control nets",
    description: "User can generate nets made of various materials."
  },
  "Kopi Kopi no Mi": {
    id: "kopi_kopi_no_mi",
    name: "Kopi Kopi no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Charlotte Montd'Or",
    power: "Allows the user to create copies",
    description: "User can create perfect copies of objects and people."
  },
  "Modo Modo no Mi": {
    id: "modo_modo_no_mi",
    name: "Modo Modo no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Byrnndi World",
    power: "Allows the user to increase size and speed",
    description: "User can increase the size and speed of objects they touch."
  },
  "Mosa Mosa no Mi": {
    id: "mosa_mosa_no_mi",
    name: "Mosa Mosa no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Binz",
    power: "Allows the user to control plant growth",
    description: "User can accelerate and control the growth of plants."
  },
  "Gasu Gasu no Mi": {
    id: "gasu_gasu_no_mi",
    name: "Gasu Gasu no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Caesar Clown",
    power: "Allows the user to create and control gas",
    description: "User becomes gas itself and can create, control, and become various gases."
  },
  "Yuki Yuki no Mi": {
    id: "yuki_yuki_no_mi",
    name: "Yuki Yuki no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Monet",
    power: "Allows the user to create and control snow",
    description: "User becomes snow itself and can create, control, and become snow."
  },
  "Numa Numa no Mi": {
    id: "numa_numa_no_mi",
    name: "Numa Numa no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Caribou",
    power: "Allows the user to create and control swamps",
    description: "User becomes a swamp and can create, control, and become swamp material."
  },
  "Moku Moku no Mi": {
    id: "moku_moku_no_mi",
    name: "Moku Moku no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Smoker",
    power: "Allows the user to create and control smoke",
    description: "User becomes smoke itself and can create, control, and become smoke."
  },
  "Suna Suna no Mi": {
    id: "suna_suna_no_mi",
    name: "Suna Suna no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Crocodile",
    power: "Allows the user to create and control sand",
    description: "User becomes sand itself and can create, control, and become sand."
  },
  "Hie Hie no Mi": {
    id: "hie_hie_no_mi",
    name: "Hie Hie no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Kuzan",
    power: "Allows the user to create and control ice",
    description: "User becomes ice itself and can create, control, and become ice."
  },
  "Mera Mera no Mi": {
    id: "mera_mera_no_mi",
    name: "Mera Mera no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Portgas D. Ace",
    power: "Allows the user to create and control fire",
    description: "User becomes fire itself and can create, control, and become fire."
  },
  "Goro Goro no Mi": {
    id: "goro_goro_no_mi",
    name: "Goro Goro no Mi",
    type: "Logia",
    rarity: "epic",
    user: "Enel",
    power: "Allows the user to create and control lightning",
    description: "User becomes lightning itself and can create, control, and become lightning."
  },
  "Peto Peto no Mi": {
    id: "peto_peto_no_mi",
    name: "Peto Peto no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Unknown",
    power: "Allows the user to control pets and animals",
    description: "User can tame and control any animal or pet."
  },
  "Gunyo Gunyo no Mi": {
    id: "gunyo_gunyo_no_mi",
    name: "Gunyo Gunyo no Mi",
    type: "Paramecia",
    rarity: "epic",
    user: "Unknown",
    power: "Allows the user to create and control slime",
    description: "User can produce and manipulate various types of slime."
  },

  // =====================================================
  // MYTHICAL FRUITS (15 fruits) - 2.4x to 2.7x CP
  // =====================================================
  "Kage Kage no Mi": {
    id: "kage_kage_no_mi_mythical",
    name: "Kage Kage no Mi",
    type: "Paramecia",
    rarity: "mythical",
    user: "Gecko Moria",
    power: "Allows the user to control shadows",
    description: "User can manipulate shadows, steal them, and create shadow zombies."
  },
  "Nikyu Nikyu no Mi": {
    id: "nikyu_nikyu_no_mi",
    name: "Nikyu Nikyu no Mi",
    type: "Paramecia",
    rarity: "mythical",
    user: "Bartholomew Kuma",
    power: "Grants paw pads that can repel anything",
    description: "User has paw pads that can repel anything, including damage, fatigue, and even air."
  },
  "Hobi Hobi no Mi": {
    id: "hobi_hobi_no_mi_mythical",
    name: "Hobi Hobi no Mi",
    type: "Paramecia",
    rarity: "mythical",
    user: "Sugar",
    power: "Allows the user to turn people into toys",
    description: "User can turn people into toys and erase memories of their existence."
  },
  "Ito Ito no Mi": {
    id: "ito_ito_no_mi",
    name: "Ito Ito no Mi",
    type: "Paramecia",
    rarity: "mythical",
    user: "Donquixote Doflamingo",
    power: "Allows the user to create and control strings",
    description: "User can create and control razor-sharp strings from their body."
  },
  "Ope Ope no Mi": {
    id: "ope_ope_no_mi",
    name: "Ope Ope no Mi",
    type: "Paramecia",
    rarity: "mythical",
    user: "Trafalgar D. Water Law",
    power: "Grants surgical powers within a Room",
    description: "User can create a spherical space where they can manipulate anything."
  },
  "Mochi Mochi no Mi": {
    id: "mochi_mochi_no_mi",
    name: "Mochi Mochi no Mi",
    type: "Special Paramecia",
    rarity: "mythical",
    user: "Charlotte Katakuri",
    power: "Allows the user to create and control mochi",
    description: "User can create, control, and transform into mochi like a Logia."
  },
  "Pika Pika no Mi": {
    id: "pika_pika_no_mi",
    name: "Pika Pika no Mi",
    type: "Logia",
    rarity: "mythical",
    user: "Borsalino",
    power: "Allows the user to create and control light",
    description: "User becomes light itself and can move at the speed of light."
  },
  "Magu Magu no Mi": {
    id: "magu_magu_no_mi",
    name: "Magu Magu no Mi",
    type: "Logia",
    rarity: "mythical",
    user: "Sakazuki",
    power: "Allows the user to create and control magma",
    description: "User becomes magma itself and can create, control, and become magma."
  },
  "Tori Tori no Mi, Model: Phoenix": {
    id: "tori_tori_phoenix",
    name: "Tori Tori no Mi, Model: Phoenix",
    type: "Mythical Zoan",
    rarity: "mythical",
    user: "Marco",
    power: "Transforms the user into a phoenix with regeneration",
    description: "User can transform into a phoenix and regenerate from any injury."
  },
  "Hito Hito no Mi, Model: Daibutsu": {
    id: "hito_hito_daibutsu",
    name: "Hito Hito no Mi, Model: Daibutsu",
    type: "Mythical Zoan",
    rarity: "mythical",
    user: "Sengoku",
    power: "Transforms the user into a giant golden Buddha",
    description: "User can transform into a giant golden Buddha with shockwave attacks."
  },
  "Hebi Hebi no Mi, Model: Yamata-no-Orochi": {
    id: "hebi_hebi_yamata_orochi",
    name: "Hebi Hebi no Mi, Model: Yamata-no-Orochi",
    type: "Mythical Zoan",
    rarity: "mythical",
    user: "Kurozumi Orochi",
    power: "Transforms the user into the eight-headed serpent",
    description: "User can transform into the legendary eight-headed, eight-tailed serpent."
  },
  "Inu Inu no Mi, Model: Okuchi no Makami": {
    id: "inu_inu_okuchi_makami",
    name: "Inu Inu no Mi, Model: Okuchi no Makami",
    type: "Mythical Zoan",
    rarity: "mythical",
    user: "Yamato",
    power: "Transforms the user into the Wolf God",
    description: "User can transform into the sacred wolf god with ice powers."
  },
  "Inu Inu no Mi, Model: Kyubi no Kitsune": {
    id: "inu_inu_kyubi_kitsune",
    name: "Inu Inu no Mi, Model: Kyubi no Kitsune",
    type: "Mythical Zoan",
    rarity: "mythical",
    user: "Catarina Devon",
    power: "Transforms the user into a nine-tailed fox",
    description: "User can transform into a nine-tailed fox or nine-tailed fox-human hybrid."
  },
  "Zou Zou no Mi, Model: Mammoth": {
    id: "zou_zou_mammoth",
    name: "Zou Zou no Mi, Model: Mammoth",
    type: "Ancient Zoan",
    rarity: "mythical",
    user: "Jack",
    power: "Transforms the user into a mammoth",
    description: "User can transform into a mammoth or mammoth-human hybrid."
  },
  "Mori Mori no Mi": {
    id: "mori_mori_no_mi",
    name: "Mori Mori no Mi",
    type: "Logia",
    rarity: "mythical",
    user: "Aramaki",
    power: "Allows the user to create and control forests",
    description: "User becomes a forest and can create, control, and become plant matter."
  },

  // =====================================================
  // LEGENDARY FRUITS (10 fruits) - 2.1x to 2.4x CP
  // =====================================================
  "Soru Soru no Mi": {
    id: "soru_soru_no_mi",
    name: "Soru Soru no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Charlotte Linlin",
    power: "Allows the user to manipulate souls",
    description: "User can extract souls from living beings and put them into objects."
  },
  "Ope Ope no Mi": {
    id: "ope_ope_no_mi_legendary",
    name: "Ope Ope no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Trafalgar D. Water Law",
    power: "Grants surgical powers within a Room",
    description: "User can create a spherical space where they can manipulate anything."
  },
  "Mochi Mochi no Mi": {
    id: "mochi_mochi_no_mi_legendary",
    name: "Mochi Mochi no Mi",
    type: "Special Paramecia",
    rarity: "legendary",
    user: "Charlotte Katakuri",
    power: "Allows the user to create and control mochi",
    description: "User can create, control, and transform into mochi like a Logia."
  },
  "Gomu Gomu no Mi": {
    id: "gomu_gomu_no_mi",
    name: "Gomu Gomu no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Monkey D. Luffy",
    power: "Grants rubber properties to the user's body",
    description: "Allows the user to stretch their body like rubber, becoming immune to blunt attacks and electricity."
  },
  "Toki Toki no Mi": {
    id: "toki_toki_no_mi",
    name: "Toki Toki no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Kozuki Toki",
    power: "Allows the user to travel through time",
    description: "User can send themselves or others forward in time."
  },
  "Uo Uo no Mi, Model: Seiryu": {
    id: "uo_uo_seiryu",
    name: "Uo Uo no Mi, Model: Seiryu",
    type: "Mythical Zoan",
    rarity: "legendary",
    user: "Kaido",
    power: "Transforms the user into an Azure Dragon",
    description: "User can transform into a massive Azure Dragon with weather control."
  },
  "Ryu Ryu no Mi, Model: Kirin": {
    id: "ryu_ryu_kirin",
    name: "Ryu Ryu no Mi, Model: Kirin",
    type: "Mythical Zoan",
    rarity: "legendary",
    user: "Unknown",
    power: "Transforms the user into a Kirin",
    description: "User can transform into the mythical Kirin with lightning powers."
  },
  "Wara Wara no Mi": {
    id: "wara_wara_no_mi",
    name: "Wara Wara no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Basil Hawkins",
    power: "Allows the user to redirect damage through voodoo dolls",
    description: "User can create straw dolls that redirect damage to others."
  },
  "Ura Ura no Mi": {
    id: "ura_ura_no_mi",
    name: "Ura Ura no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Van Augur",
    power: "Allows the user to teleport anywhere",
    description: "User can instantly teleport themselves and others across vast distances."
  },
  "Shima Shima no Mi": {
    id: "shima_shima_no_mi",
    name: "Shima Shima no Mi",
    type: "Paramecia",
    rarity: "legendary",
    user: "Avalo Pizarro",
    power: "Allows the user to merge with and control islands",
    description: "User can merge with islands and control their terrain."
  },

  // =====================================================
  // DIVINE FRUITS (3 fruits) - 2.7x to 3.0x CP
  // =====================================================
  "Gura Gura no Mi": {
    id: "gura_gura_no_mi",
    name: "Gura Gura no Mi",
    type: "Paramecia",
    rarity: "divine",
    user: "Edward Newgate",
    power: "Allows the user to create earthquakes",
    description: "User can create vibrations and earthquakes that can destroy the world."
  },
  "Hito Hito no Mi, Model: Nika": {
    id: "hito_hito_nika",
    name: "Hito Hito no Mi, Model: Nika",
    type: "Mythical Zoan",
    rarity: "divine",
    user: "Monkey D. Luffy",
    power: "Sun God Nika - grants rubber powers and reality manipulation",
    description: "Mythical Zoan of the Sun God Nika, bringing joy and liberation to all."
  },
  "Yami Yami no Mi": {
    id: "yami_yami_no_mi",
    name: "Yami Yami no Mi",
    type: "Logia",
    rarity: "divine",
    user: "Marshall D. Teach",
    power: "Allows the user to create and control darkness",
    description: "User becomes darkness itself and can nullify other Devil Fruit powers."
  }
};

// Rarity rates for gacha system (updated for divine)
const RARITY_RATES = {
  common: 0.40,      // 40%
  uncommon: 0.30,    // 30%
  rare: 0.20,        // 20%
  epic: 0.07,        // 7%
  legendary: 0.025,  // 2.5%
  mythical: 0.004,   // 0.4%
  divine: 0.001      // 0.1%
};

// Rarity colors for embeds (updated for divine)
const RARITY_COLORS = {
  common: 0x8B4513,     // Brown
  uncommon: 0x00FF00,   // Green
  rare: 0x0080FF,       // Blue
  epic: 0x8000FF,       // Purple
  legendary: 0xFFD700,  // Gold
  mythical: 0xFF8000,   // Orange
  divine: 0xFFFFFF      // White (Divine)
};

// Rarity emojis (updated for divine)
const RARITY_EMOJIS = {
  common: '🟫',
  uncommon: '🟩',
  rare: '🟦',
  epic: '🟪',
  legendary: '🟨',
  mythical: '🟧',
  divine: '⭐'
};

// Rest of the utility functions remain the same as before...
function getRandomFruit() {
  const totalWeight = Object.values(RARITY_RATES).reduce((sum, rate) => sum + rate, 0);
  let random = Math.random() * totalWeight;
  
  for (const [rarity, rate] of Object.entries(RARITY_RATES)) {
    random -= rate;
    if (random <= 0) {
      const fruitsOfRarity = Object.values(DEVIL_FRUITS).filter(fruit => fruit.rarity === rarity);
      if (fruitsOfRarity.length === 0) {
        const commonFruitsList = Object.values(DEVIL_FRUITS).filter(fruit => fruit.rarity === 'common');
        return commonFruitsList[Math.floor(Math.random() * commonFruitsList.length)];
      }
      return fruitsOfRarity[Math.floor(Math.random() * fruitsOfRarity.length)];
    }
  }
  return Object.values(DEVIL_FRUITS)[0];
}

function getFruitById(id) {
  return Object.values(DEVIL_FRUITS).find(fruit => fruit.id === id) || null;
}

function getFruitByName(name) {
  return DEVIL_FRUITS[name] || null;
}

function getFruitsByRarity(rarity) {
  return Object.values(DEVIL_FRUITS).filter(fruit => fruit.rarity === rarity);
}

function getAllFruits() {
  return Object.values(DEVIL_FRUITS);
}

function getRarityColor(rarity) {
  return RARITY_COLORS[rarity] || 0x8B4513;
}

function getRarityEmoji(rarity) {
  return RARITY_EMOJIS[rarity] || '🟫';
}

function getStats() {
  const total = Object.keys(DEVIL_FRUITS).length;
  const byRarity = {};
  
  Object.values(DEVIL_FRUITS).forEach(fruit => {
    byRarity[fruit.rarity] = (byRarity[fruit.rarity] || 0) + 1;
  });
  
  return {
    total,
    byRarity,
    rarities: Object.keys(RARITY_RATES)
  };
}

// Element counters (legacy support)
const ELEMENT_COUNTERS = {
  'Fire': ['Ice', 'Water'],
  'Ice': ['Fire'],
  'Water': ['Fire'],
  'Lightning': ['Water'],
  'Earth': ['Lightning'],
  'Wind': ['Earth'],
  'Light': ['Darkness'],
  'Darkness': ['Light'],
  'Magma': ['Ice', 'Water'],
  'Sand': ['Water'],
  'Smoke': ['Wind'],
  'Snow': ['Fire'],
  'Gas': ['Wind'],
  'Swamp': ['Fire'],
  'Poison': ['Medicine'],
  'Gravity': ['Light'],
  'Time': ['Space'],
  'Space': ['Time']
};

module.exports = {
  DEVIL_FRUITS,
  RARITY_RATES,
  RARITY_COLORS,
  RARITY_EMOJIS,
  ELEMENT_COUNTERS,
  getRandomFruit,
  getFruitById,
  getFruitByName,
  getFruitsByRarity,
  getAllFruits,
  getRarityColor,
  getRarityEmoji,
  getStats,
  validateFruits: () => ({ isValid: true, errors: [], totalFruits: Object.keys(DEVIL_FRUITS).length }),
  searchFruits: (query) => Object.values(DEVIL_FRUITS).filter(fruit => 
    fruit.name.toLowerCase().includes(query.toLowerCase()) ||
    fruit.type.toLowerCase().includes(query.toLowerCase()) ||
    fruit.power.toLowerCase().includes(query.toLowerCase())
  ),
  getFruitsByType: (type) => Object.values(DEVIL_FRUITS).filter(fruit => fruit.type === type),
  getFruitsByUser: (user) => Object.values(DEVIL_FRUITS).filter(fruit => 
    fruit.user.toLowerCase().includes(user.toLowerCase())
  ),
  getCanonicalFruitCount: () => ({
    total: Object.keys(DEVIL_FRUITS).length,
    paramecia: Object.values(DEVIL_FRUITS).filter(f => f.type === 'Paramecia').length,
    logia: Object.values(DEVIL_FRUITS).filter(f => f.type === 'Logia').length,
    zoan: Object.values(DEVIL_FRUITS).filter(f => f.type === 'Zoan').length
  })
};
